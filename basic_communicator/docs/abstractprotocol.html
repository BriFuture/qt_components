<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- abstractprotocol.cpp -->
  <title>AbstractProtocol Class | Qt  5.7</title>
</head>
<body>
<link href="style/online.css"                 rel="stylesheet" type="text/css">                 <div class="content"> <div class="context"> <a href="index.html">Home</a> <li>AbstractProtocol</li>
<div class="sidebar">
<div class="toc">
<h3><a name="toc">Contents</a></h3>
<ul>
<li class="level1"><a href="#public-functions">Public Functions</a></li>
<li class="level1"><a href="#public-slots">Public Slots</a></li>
<li class="level1"><a href="#signals">Signals</a></li>
<li class="level1"><a href="#static-public-members">Static Public Members</a></li>
<li class="level1"><a href="#details">Detailed Description</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title">AbstractProtocol Class</h1>
<!-- $$$AbstractProtocol-brief -->
<p>用于 Communicator 层的通信接口 <a href="#details">More...</a></p>
<!-- @@@AbstractProtocol -->
<ul>
<li><a href="abstractprotocol-members.html">List of all members, including inherited members</a></li>
</ul>
<a name="public-functions"></a>
<h2 id="public-functions">Public Functions</h2>
<div class="table"><table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="abstractprotocol.html#AbstractProtocol">AbstractProtocol</a></b>(QObject *<i>parent</i> = 0)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual void </td><td class="memItemRight bottomAlign"><b><a href="abstractprotocol.html#clearCmdCount">clearCmdCount</a></b>() = 0</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="abstractprotocol.html#enabled">enabled</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> int </td><td class="memItemRight bottomAlign"><b><a href="abstractprotocol.html#getCmdExecuteTime">getCmdExecuteTime</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> int </td><td class="memItemRight bottomAlign"><b><a href="abstractprotocol.html#getCmdTimeout">getCmdTimeout</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual CommandObject *</td><td class="memItemRight bottomAlign"><b><a href="abstractprotocol.html#getFirstCmd">getFirstCmd</a></b>() = 0</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> int </td><td class="memItemRight bottomAlign"><b><a href="abstractprotocol.html#priority">priority</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual const int </td><td class="memItemRight bottomAlign"><b><a href="abstractprotocol.html#remainCmdCount">remainCmdCount</a></b>() = 0</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="abstractprotocol.html#setCmdExecuteTime">setCmdExecuteTime</a></b>(int <i>cmdExecuteTime</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="abstractprotocol.html#setCmdTimeout">setCmdTimeout</a></b>(int <i>cmdTimeout</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="abstractprotocol.html#setEnabled">setEnabled</a></b>(bool <i>enabled</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="abstractprotocol.html#setPriority">setPriority</a></b>(int <i>priority</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual const int </td><td class="memItemRight bottomAlign"><b><a href="abstractprotocol.html#totalCmdCount">totalCmdCount</a></b>() = 0</td></tr>
</table></div>
<a name="public-slots"></a>
<h2 id="public-slots">Public Slots</h2>
<div class="table"><table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> virtual void </td><td class="memItemRight bottomAlign"><b><a href="abstractprotocol.html#lastQueryFailed">lastQueryFailed</a></b>() = 0</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual bool </td><td class="memItemRight bottomAlign"><b><a href="abstractprotocol.html#processData">processData</a></b>(DataObject *<i>dataObj</i>) = 0</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual void </td><td class="memItemRight bottomAlign"><b><a href="abstractprotocol.html#stopRemainCmd">stopRemainCmd</a></b>() = 0</td></tr>
</table></div>
<a name="signals"></a>
<h2 id="signals">Signals</h2>
<div class="table"><table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="abstractprotocol.html#cmdAdded">cmdAdded</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="abstractprotocol.html#skipCurrentQuery">skipCurrentQuery</a></b>()</td></tr>
</table></div>
<a name="static-public-members"></a>
<h2 id="static-public-members">Static Public Members</h2>
<div class="table"><table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> QByteArray </td><td class="memItemRight bottomAlign"><b><a href="abstractprotocol.html#xorCODE">xorCODE</a></b>(const QByteArray &amp;<i>ba</i>)</td></tr>
</table></div>
<a name="details"></a>
<!-- $$$AbstractProtocol-description -->
<div class="descr">
<h2 id="details">Detailed Description</h2>
<p><b class="redFont"><code>\author</code></b>BriFuture</p>
<p>用于 Communicator 层的通信接口</p>
</div>
<!-- @@@AbstractProtocol -->
<div class="func">
<h2>Member Function Documentation</h2>
<!-- $$$AbstractProtocol[overload1]$$$AbstractProtocolQObject* -->
<h3 class="fn" id="AbstractProtocol"><a name="AbstractProtocol"></a>AbstractProtocol::<span class="name">AbstractProtocol</span>(<span class="type">QObject</span> *<i>parent</i> = 0)</h3>
<p>Default constructs an instance of AbstractProtocol.</p><!-- @@@AbstractProtocol -->
<!-- $$$clearCmdCount[overload1]$$$clearCmdCount -->
<h3 class="fn" id="clearCmdCount"><a name="clearCmdCount"></a><code>[pure virtual] </code><span class="type">void</span> AbstractProtocol::<span class="name">clearCmdCount</span>()</h3>
<!-- @@@clearCmdCount -->
<!-- $$$cmdAdded[overload1]$$$cmdAdded -->
<h3 class="fn" id="cmdAdded"><a name="cmdAdded"></a><code>[signal] </code><span class="type">void</span> AbstractProtocol::<span class="name">cmdAdded</span>()</h3>
<p>新增加了一条指令</p>
<!-- @@@cmdAdded -->
<!-- $$$enabled[overload1]$$$enabled -->
<h3 class="fn" id="enabled"><a name="enabled"></a><span class="type">bool</span> AbstractProtocol::<span class="name">enabled</span>() const</h3>
<p>AbstractProtocol::enabled <b class="redFont"><code>\return</code></b> 是否使能当前协议</p>
<p><b>See also </b><a href="abstractprotocol.html#setEnabled">setEnabled</a>().</p>
<!-- @@@enabled -->
<!-- $$$getCmdExecuteTime[overload1]$$$getCmdExecuteTime -->
<h3 class="fn" id="getCmdExecuteTime"><a name="getCmdExecuteTime"></a><span class="type">int</span> AbstractProtocol::<span class="name">getCmdExecuteTime</span>() const</h3>
<!-- @@@getCmdExecuteTime -->
<!-- $$$getCmdTimeout[overload1]$$$getCmdTimeout -->
<h3 class="fn" id="getCmdTimeout"><a name="getCmdTimeout"></a><span class="type">int</span> AbstractProtocol::<span class="name">getCmdTimeout</span>() const</h3>
<!-- @@@getCmdTimeout -->
<!-- $$$getFirstCmd[overload1]$$$getFirstCmd -->
<h3 class="fn" id="getFirstCmd"><a name="getFirstCmd"></a><code>[pure virtual] </code><span class="type"><a href="commandobject.html">CommandObject</a></span> *AbstractProtocol::<span class="name">getFirstCmd</span>()</h3>
<!-- @@@getFirstCmd -->
<!-- $$$lastQueryFailed[overload1]$$$lastQueryFailed -->
<h3 class="fn" id="lastQueryFailed"><a name="lastQueryFailed"></a><code>[pure virtual slot] </code><span class="type">void</span> AbstractProtocol::<span class="name">lastQueryFailed</span>()</h3>
<p>计时器超时后调用该方法，表明查询失败</p>
<!-- @@@lastQueryFailed -->
<!-- $$$priority[overload1]$$$priority -->
<h3 class="fn" id="priority"><a name="priority"></a><span class="type">int</span> AbstractProtocol::<span class="name">priority</span>() const</h3>
<p>AbstractProtocol::priority 优先级，数值越大，表明优先级越高</p>
<p><b>See also </b><a href="abstractprotocol.html#setPriority">setPriority</a>().</p>
<!-- @@@priority -->
<!-- $$$processData[overload1]$$$processDataDataObject* -->
<h3 class="fn" id="processData"><a name="processData"></a><code>[pure virtual slot] </code><span class="type">bool</span> AbstractProtocol::<span class="name">processData</span>(<span class="type">DataObject</span> *<i>dataObj</i>)</h3>
<!-- @@@processData -->
<!-- $$$remainCmdCount[overload1]$$$remainCmdCount -->
<h3 class="fn" id="remainCmdCount"><a name="remainCmdCount"></a><code>[pure virtual] </code>const <span class="type">int</span> AbstractProtocol::<span class="name">remainCmdCount</span>()</h3>
<!-- @@@remainCmdCount -->
<!-- $$$setCmdExecuteTime[overload1]$$$setCmdExecuteTimeint -->
<h3 class="fn" id="setCmdExecuteTime"><a name="setCmdExecuteTime"></a><span class="type">void</span> AbstractProtocol::<span class="name">setCmdExecuteTime</span>(<span class="type">int</span> <i>cmdExecuteTime</i>)</h3>
<p>设置指令执行次数（0 表示当前协议将会一直等待指令回复，该值一般不使用， 若在网络不畅时可以使用，即等待超时时间将会被忽略）</p>
<p>-1 means waitting util the command is replied (so waitTime will be ignored but it still reports FAILED) 0 means that command won't be repeated</p>
<!-- @@@setCmdExecuteTime -->
<!-- $$$setCmdTimeout[overload1]$$$setCmdTimeoutint -->
<h3 class="fn" id="setCmdTimeout"><a name="setCmdTimeout"></a><span class="type">void</span> AbstractProtocol::<span class="name">setCmdTimeout</span>(<span class="type">int</span> <i>cmdTimeout</i>)</h3>
<!-- @@@setCmdTimeout -->
<!-- $$$setEnabled[overload1]$$$setEnabledbool -->
<h3 class="fn" id="setEnabled"><a name="setEnabled"></a><span class="type">void</span> AbstractProtocol::<span class="name">setEnabled</span>(<span class="type">bool</span> <i>enabled</i>)</h3>
<p>AbstractProtocol::setEnabled <b class="redFont"><code>\param</code></b> enabled 使能当前协议</p>
<p><b>See also </b><a href="abstractprotocol.html#enabled">enabled</a>().</p>
<!-- @@@setEnabled -->
<!-- $$$setPriority[overload1]$$$setPriorityint -->
<h3 class="fn" id="setPriority"><a name="setPriority"></a><span class="type">void</span> AbstractProtocol::<span class="name">setPriority</span>(<span class="type">int</span> <i>priority</i>)</h3>
<p><b>See also </b><a href="abstractprotocol.html#priority">priority</a>().</p>
<!-- @@@setPriority -->
<!-- $$$skipCurrentQuery[overload1]$$$skipCurrentQuery -->
<h3 class="fn" id="skipCurrentQuery"><a name="skipCurrentQuery"></a><code>[signal] </code><span class="type">void</span> AbstractProtocol::<span class="name">skipCurrentQuery</span>()</h3>
<p>通知通讯器跳过当前查询(查询成功)</p>
<!-- @@@skipCurrentQuery -->
<!-- $$$stopRemainCmd[overload1]$$$stopRemainCmd -->
<h3 class="fn" id="stopRemainCmd"><a name="stopRemainCmd"></a><code>[pure virtual slot] </code><span class="type">void</span> AbstractProtocol::<span class="name">stopRemainCmd</span>()</h3>
<p>停止查询操作，清除等待的命令</p>
<!-- @@@stopRemainCmd -->
<!-- $$$totalCmdCount[overload1]$$$totalCmdCount -->
<h3 class="fn" id="totalCmdCount"><a name="totalCmdCount"></a><code>[pure virtual] </code>const <span class="type">int</span> AbstractProtocol::<span class="name">totalCmdCount</span>()</h3>
<!-- @@@totalCmdCount -->
<!-- $$$xorCODE[overload1]$$$xorCODEconstQByteArray& -->
<h3 class="fn" id="xorCODE"><a name="xorCODE"></a><code>[static] </code><span class="type">QByteArray</span> AbstractProtocol::<span class="name">xorCODE</span>(const <span class="type">QByteArray</span> &amp;<i>ba</i>)</h3>
<p>求每个字符的异或值 ( #/$ 与*之间的数值的 XOR 值，不包含 #/$) 根据字符计算出异或校验码</p>
<p>This function overloads QByteArray.</p>
<p>@param ba</p>
<p>实际例子： #BUZZER?* 计算 # 和 * 之间的各个字符的校验码</p>
<p><b>See also </b>XOR_CODE(const Command &amp;).</p>
<!-- @@@xorCODE -->
</div>
</div> </div></body>
</html>
